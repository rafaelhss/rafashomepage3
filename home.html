<!DOCTYPE html>
<html lang="en">
<html>
<head>
    <script src="https://aframe.io/releases/0.6.0/aframe.min.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.2.1.min.js"
      integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
      crossorigin="anonymous"></script>
    
    <meta property="og:image" content="http://campusparty.herokuapp.com/img/negao.png"/>
    <meta property="og:title" content="Campus Party 2017"/>
    <meta property="og:description" content="Quero uma camiseta"/>
</head>
<body>

<a-scene>
    <a-entity position="0 1.8 8"  id="cursor">
        <a-camera id="camera">
            <a-cursor fuse="true" fuseTimeout="1000" color="#4CC3D9" >
                <a-animation begin="click" easing="ease-in" attribute="scale" fill="backwards" from="0.5 0.5 0.5" to="1 1 1"></a-animation>
                <a-animation begin="cursor-fusing" easing="ease-in" attribute="scale" fill="forwards" from="3 3 3" to="1 1 1"></a-animation>
            </a-cursor>
        </a-camera>
    </a-entity>

    
    <a-assets>
        
        
        <!-- luz -->
        <img id="lightswitch" src="img/switch.png">
        
        
        <!-- contatos -->
        <img id="github" src="img/github.gif">
        <img id="facebook" src="img/facebook.png">
        <img id="twitter" src="img/twitter.png">
        
        
        <!-- artigos -->
        <img id="incd" src="img/brasnam.jpg">
        <img id="brasnam" src="img/brasnam.jpg">
        
        
        <!-- sky -->
        <img id="skyTexture"  src="img/fundo.png">
    
    </a-assets>

    
    <!-- luz -->
    <a-entity class="switch"  geometry="primitive: box" material="src: #lightswitch" scale="1 1 1" position="0 -2 0" >
        <a-event name="mouseenter" rotation="180 0 0"></a-event>
        <a-event name="mouseleave" rotation="0 0 0"></a-event>
        <a-animation dur="10000" attribute="position" from="-20 4 1" to="20 4 -30" direction="alternate" repeat="indefinite"
                     easing="ease-in-out-cubic"></a-animation>
        <a-animation delay="3000" attribute="geometry.height" to="0" direction="alternate" repeat="indefinite"
                 easing="ease-in-circ" ></a-animation>
        <a-animation delay="3000" attribute="geometry.width" to="0" direction="alternate" repeat="indefinite"
                         easing="ease-in-circ"></a-animation>
        <a-animation delay="3000" attribute="geometry.depth" to="0" direction="alternate" repeat="indefinite"
                         easing="ease-in-circ"></a-animation>
    </a-entity>
    

    
    <!-- contatos -->
    <a-cylinder onclick="window.location = 'http://github.com/rafaelhss'" id="github" class="apagar" radius="0.5" transparen="true"  src="#github" position="3 0 -13" rotation="0 70 30" scale="2 0.2 2"></a-cylinder>
    <a-cylinder onclick="window.location = 'http://twitter.com/rafelrafel'" id="twitter" class="apagar" radius="0.5" transparen="true"  src="#twitter" position="4 0 -17" rotation="0 70 30" scale="2 0.2 2"></a-cylinder>
    <a-cylinder onclick="window.location = 'https://www.facebook.com/rafael.henrique.507464'" id="facebook" class="apagar" radius="0.5" transparen="true"  src="#facebook" position="2.2 0 -15" rotation="0 70 30" scale="2 0.2 2"></a-cylinder>
    
    
    <!-- artigos -->
    <a-box  class="apagar" onclick="window.location = 'http://www.revistas.usp.br/incid/article/view/76282'" scale="1.0 1.3 0.2"  position="-5 0 -3" src="#incd" rotation="-70 20 -10" > </a-box>
    <a-box   class="apagar"onclick="window.location = 'http://ebooks.pucrs.br/edipucrs/anais/csbc/assets/2016/brasnam/11.pdf'" scale="1.0 1.3 0.2"  position="-3.8 0 -2" src="#brasnam" rotation="-70 10 30" > </a-box>
    
    
    

    
    <a-sky color="#000"></a-sky>
    <a-sky id="fundo" src="#skyTexture"></a-sky>
</a-scene>
</body>
<script>
    
    var count = 0;
    var carregarImagens = function(){
        
        var number = Math.floor(Math.random() * 34) + 1;
        addRandomObject("/img/fotos/pic" + number + ".jpg");
        
        number = Math.floor(Math.random() * 34) + 1;
        addRandomObject("/img/fotos/pic" + number + ".jpg");
        
        number = Math.floor(Math.random() * 34) + 1;
        addRandomObject("/img/fotos/pic" + number + ".jpg");
        
        console.log(count);
        if(++count > 10){
            addRandomObject("/vid/toni.mp4");
            addRandomObject("/vid/mov02605_noaudio2.mp4");
        }
        
        
    }
    
    
    
    
    var addRandomObject = function(src){
        
        var initialX = -3;
        var initialY = 3;
        var initialZ = -5;
        
        var x = Math.floor(15 - (Math.random() * 30))
        var y = Math.floor(Math.random() * 15)
        var z = Math.floor(15 - (Math.random() * 30)) 
        
        
        
        var position = x + " " + y + " " + z ;
        console.log('add pos: ' + position)
        var sceneEl = document.querySelector('a-scene');

        
        var entityEl = document.createElement('a-sphere');
        //entityEl.setAttribute('position',"'" + x + " " + y + " " + z + "'");
        entityEl.setAttribute('position',position);
        entityEl.setAttribute('radius',2);
        
        entityEl.setAttribute('rotation','0 -150 0');
        entityEl.setAttribute('class','apagar');
        entityEl.setAttribute('id','fact');
        entityEl.setAttribute('src',src);
        
        
        var nome = 'fact';
        //entityEl.setAttribute('mixin',nome);    

                
        var anim = document.createElement('a-animation');
        anim.setAttribute('attribute','rotation');
        anim.setAttribute('begin','mouseenter');
        anim.setAttribute('dur','15000');
        anim.setAttribute('fill','forwards');
        anim.setAttribute('to','360 820 0');
        anim.setAttribute('repeat','indefinite');
        entityEl.appendChild(anim);
        
                        
        var anim2 = document.createElement('a-animation');
        anim2.setAttribute('attribute','scale');
        anim2.setAttribute('begin','mouseenter');
        anim2.setAttribute('to','4 4 4');
        entityEl.appendChild(anim2);
        
        var anim3 = document.createElement('a-animation');
        anim3.setAttribute('attribute','scale');
        anim3.setAttribute('begin','mouseleave');
        anim3.setAttribute('to','1 1 1');
        entityEl.appendChild(anim3);
        
       
        console.log(entityEl)
        
        sceneEl.appendChild(entityEl);
        console.log('fimadd')
        
        
        
        
    }

    var boxEl = document.querySelector('.switch');
    boxEl.addEventListener('mouseenter', function () {
        carregarImagens();
    });
    


</script>
</html>